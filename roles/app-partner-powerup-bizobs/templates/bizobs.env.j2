# Partner PowerUp BizObs Environment Configuration

# Application Configuration
NODE_ENV=production
PORT={{ bizobs_port | default(4000) }}
HOST={{ bizobs_host | default('0.0.0.0') }}
BASE_URL={{ bizobs_base_url | default('http://bizobs.{{ ingress_domain }}') }}

# Dynatrace Configuration (from DT_TENANT environment variable)
DT_TENANT={{ ansible_env.DT_TENANT | default(tenant_url) }}
DT_API_TOKEN={{ ansible_env.DT_API_TOKEN | default(dynatrace_paas_token) }}
DT_ENVIRONMENT_ID={{ ansible_env.DT_ENVIRONMENT_ID | default(tenant_id) }}

# Application Behavior Configuration
AUTO_START_JOURNEYS={{ bizobs_auto_start | default('true') }}
DEFAULT_JOURNEY_INTERVAL={{ bizobs_journey_interval | default('30000') }}
DEFAULT_CONCURRENT_USERS={{ bizobs_concurrent_users | default('10') }}
DEFAULT_ERROR_RATE={{ bizobs_error_rate | default('0.05') }}

# Service Discovery and Endpoints
SERVICE_BASE_URL=http://localhost:{{ bizobs_port | default(4000) }}
STEP1_SERVICE_URL=http://localhost:{{ bizobs_port | default(4000) }}/api/step1
STEP2_SERVICE_URL=http://localhost:{{ bizobs_port | default(4000) }}/api/step2
STEP3_SERVICE_URL=http://localhost:{{ bizobs_port | default(4000) }}/api/step3
STEP4_SERVICE_URL=http://localhost:{{ bizobs_port | default(4000) }}/api/step4
STEP5_SERVICE_URL=http://localhost:{{ bizobs_port | default(4000) }}/api/step5
STEP6_SERVICE_URL=http://localhost:{{ bizobs_port | default(4000) }}/api/step6

# Logging Configuration
LOG_LEVEL={{ bizobs_log_level | default('info') }}
LOG_FILE=/var/log/bizobs/application.log

# Performance Configuration
MAX_MEMORY={{ bizobs_max_memory | default('512') }}
GARBAGE_COLLECTION={{ bizobs_gc_enabled | default('true') }}

# Security Configuration
CORS_ORIGINS={{ bizobs_cors_origins | default('*') }}
RATE_LIMIT_WINDOW={{ bizobs_rate_limit_window | default('900000') }}
RATE_LIMIT_MAX={{ bizobs_rate_limit_max | default('100') }}

# Business Simulation Configuration
INDUSTRY_TEMPLATES={{ bizobs_industry_templates | default('retail,banking,ecommerce,healthcare') }}
SIMULATION_MODE={{ bizobs_simulation_mode | default('realistic') }}
DATA_PERSISTENCE={{ bizobs_data_persistence | default('false') }}

# Health Check Configuration
HEALTH_CHECK_TIMEOUT={{ bizobs_health_timeout | default('5000') }}
METRICS_ENABLED={{ bizobs_metrics_enabled | default('true') }}
METRICS_ENDPOINT=/api/metrics